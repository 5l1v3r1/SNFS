syntax = "proto3";

package nfsfuse;

message SerializeByte {
	bytes buffer = 1;
}

message String {
	string str = 1;
}

message Dirent {
	uint32 d_ino  = 1; 
	string d_name = 2;
}

/*
message Stbuf {
	uint32     st_dev;    // ID of device containing file 
    ino_t     st_ino;     // inode number 
    uint32    st_mode;    // protection 
    uint32   st_nlink;    // number of hard links 
    uid_t     st_uid;     // user ID of owner 
    gid_t     st_gid;     // group ID of owner 
    dev_t     st_rdev;    // device ID (if special file) 
    off_t     st_size;    // total size, in bytes 
    blksize_t st_blksize; // blocksize for file system I/O 
    blkcnt_t  st_blocks;  // number of 512B blocks allocated 
    time_t    st_atime;   // time of last access 
    time_t    st_mtime;   // time of last modification
    time_t    st_ctime;   // time of last status change 
}
*/



service NFS {
	rpc function1 (SerializeByte) returns (SerializeByte) {}
	rpc nfsfuse_lstat(String) returns (SerializeByte) {}
	rpc nfsfuse_readdir(String) returns (Dirent) {}
//	rpc rpc_opendir(String) returns (SerializeByte) {}
//    rpc rpc_readdir(SerializeByte) returns(Dirent){}	
}
